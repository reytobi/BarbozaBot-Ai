
const handler = async (m, { conn}) => {
    const inteligencias = [
        { nombre: "ğŸ¤– AlphaBot", ventaja: "Aprendizaje automÃ¡tico adaptativo."},
        { nombre: "ğŸ§  NeuroAI", ventaja: "Redes neuronales avanzadas para estrategias Ã³ptimas."},
        { nombre: "âš¡ QuantumCode", ventaja: "Procesamiento cuÃ¡ntico ultra rÃ¡pido."},
        { nombre: "ğŸ”® VisionaryAI", ventaja: "Predicciones basadas en datos histÃ³ricos."},
        { nombre: "ğŸ›¡ï¸ SentinelCore", ventaja: "Defensa cibernÃ©tica impenetrable."},
        { nombre: "ğŸš€ HyperLogic", ventaja: "CÃ¡lculo lÃ³gico instantÃ¡neo en decisiones crÃ­ticas."}
    ];

    let mensaje = `ğŸ¤– *Batalla de Inteligencias Artificiales* ğŸ¤–\n\nğŸ“Œ **Elige tu IA para competir:**\n`;

    inteligencias.forEach((ia, i) => {
        mensaje += `ğŸ”¹ ${i + 1}. ${ia.nombre} - ${ia.ventaja}\n`;
});

    mensaje += "\nğŸ“Œ *Responde con el nÃºmero de la opciÃ³n que elijas.*";

    conn.aiBattleGame = conn.aiBattleGame || {};
    conn.aiBattleGame[m.chat] = {};

    await conn.sendMessage(m.chat, { text: mensaje});
};

handler.before = async (m, { conn}) => {
    if (conn.aiBattleGame && conn.aiBattleGame[m.chat]) {
        const eleccion = parseInt(m.text.trim());
        const inteligencias = [
            "ğŸ¤– AlphaBot", "ğŸ§  NeuroAI", "âš¡ QuantumCode", "ğŸ”® VisionaryAI",
            "ğŸ›¡ï¸ SentinelCore", "ğŸš€ HyperLogic"
        ];

        if (eleccion>= 1 && eleccion <= inteligencias.length) {
            const iaSeleccionada = inteligencias[eleccion - 1];
            const usuario = conn.getName(m.sender);
            conn.aiBattleGame[m.chat] = { nombre: usuario, ia: iaSeleccionada};

            await conn.reply(m.chat, `âœ… *${usuario} ha elegido:* ${iaSeleccionada}\nâŒ› PreparÃ¡ndose para el enfrentamiento...`, m);

            setTimeout(() => {
                const resultado = [
                    "ğŸ† Â¡Has ganado la batalla de IA con cÃ¡lculos supremos!",
                    "ğŸ’€ Tu algoritmo ha sido derrotado por un modelo mÃ¡s eficiente.",
                    "âš”ï¸ Fue un empate, ambas inteligencias demostraron gran habilidad.",
                    "ğŸ”¥ Lograste una victoria ajustada, pero tu IA quedÃ³ sobrecargada.",
                    "ğŸ’¢ Tu estrategia fue poderosa, pero tu rival tenÃ­a mejor optimizaciÃ³n."
                ];
                const desenlace = resultado[Math.floor(Math.random() * resultado.length)];

                let mensajeFinal = `ğŸ¤– *Batalla de Inteligencias Artificiales* ğŸ¤–\n\nğŸ‘¤ *Jugador:* ${usuario}\nâš¡ *IA seleccionada:* ${iaSeleccionada}\n\n${desenlace}`;

                conn.sendMessage(m.chat, { text: mensajeFinal});

                delete conn.aiBattleGame[m.chat];
}, 5000);
} else {
            await conn.reply(m.chat, "âŒ *OpciÃ³n invÃ¡lida. Elige un nÃºmero entre 1 y 6.*", m);
}
}
};

handler.command = ["batallaIA"];
export default handler;